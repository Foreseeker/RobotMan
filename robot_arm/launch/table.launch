<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <group ns="/table">
        <param name="table_description" 
        command="$(find xacro)/xacro --inorder '$(find robot_arm)/urdf/table.xacro'"/>

        <arg name="x" default="0"/>
        <arg name="y" default="5.5"/>
        <arg name="z" default="2"/>

        <node name="table_spawn" 
        pkg="gazebo_ros" 
        type="spawn_model"  
        output="screen" 
        args="-urdf -param table_description -model table -x $(arg x) -y $(arg y) -z $(arg z)"/>

        <rosparam command="load" file="$(find robot_arm)/config/table.yaml"/>

        <node name="table_spawner" 
        pkg="controller_manager" 
        type="spawner"  
        output="screen" 
        respawn="false" 
        ns="/table"
        args="--namespace=/table
        joint_state_controller
        joint1_position_controller
        joint2_position_controller
        joint3_position_controller
        joint4_position_controller
        --timeout 60">
        </node>

        <!-- <node name="rqt_gui" pkg="rqt_gui" type="rqt_gui"/> -->
        <!-- <node name="rqt_reconfigure" pkg="rqt_reconfigure" type="rqt_reconfigure"/>
        <node name="rqt_publisher" pkg="rqt_publisher" type="rqt_publisher"/> -->

        
    </group>
</launch>
